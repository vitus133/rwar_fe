#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import Window kivy.core.window.Window
#:import IconLeftWidget kivymd.uix.list.IconLeftWidget
#:import toast kivymd.toast.toast


<ItemBackdropFrontLayer@TwoLineAvatarListItem>
    icon: "android"

    IconLeftWidget:
        icon: root.icon


<ItemBackdropBackLayer>
    size_hint_y: None
    height: self.minimum_height
    spacing: "10dp"

    canvas:
        Color:
            rgba:
                root.theme_cls.primary_dark if root.selected_item \
                else root.theme_cls.primary_color
        RoundedRectangle:
            pos: self.pos
            size: self.size

    MDIconButton:
        icon: root.icon
        theme_text_color: "Custom"
        text_color: 1, 1, 1, .5 if not root.selected_item else 1, 1, 1, 1

    MDLabel:
        text: root.text
        color: 1, 1, 1, .5 if not root.selected_item else 1, 1, 1, 1




<TextItemBackdropBackLayer>
    size_hint_y: None
    height: "80dp"

    IconLeftWidget:
        icon: root.icon
        theme_text_color: "Custom"
        text_color: root.theme_cls.opposite_text_color
        on_press: print(root.theme_cls.__dir__())

    MDTextField:
        # padding: 20
        text: root.text
        # max_text_length: 
        hint_text: root.hint_text
        # helper_text: "Helper text"
        # helper_text_mode: "persistent"
        color_mode: "custom"
        line_color_focus: root.theme_cls.opposite_text_color
        hint_text_color: root.theme_cls.opposite_text_color
        helper_text_color: root.theme_cls.opposite_text_color
        foreground_color: app.theme_cls.opposite_text_color
        multiline: True
        # line_color_normal: 1, 1, 1, .5 if not root.selected_item else 1, 1, 1, 1
        #custom_color: 0, 1, 0, 1

<CheckBoxOption>
    orientation: "horizontal"
    size_hint_y: None
    height: "40dp"
    spacing: "10dp"
    padding: "8.5dp"
    text: ""

    MDCheckbox:
        id: check
        size_hint: None, None
        size: "30dp", "30dp"
        active: False or self.active
        pos_hint: {"center_y": .5}
        selected_color: 1, 1, 1, 1

    MDLabel:
        text: root.text
        #color: 1, 1, 1, .5
        color: 1, 1, 1, .5 if not root.ids.check.active else 1, 1, 1, 1



<ItemBackdropBackLayerOfSecondScreen@BoxLayout>
    size_hint_y: None
    height: "40dp"
    spacing: "25dp"
    text: ""

    MDCheckbox:
        size_hint: None, None
        size: "30dp", "30dp"
        active: False or self.active
        pos_hint: {"center_y": .5}
        selected_color: 1, 1, 1, 1

    MDLabel:
        text: root.text
        color: 1, 1, 1, .7


<ItemRoundBackdropBackLayerOfSecondScreen@BoxLayout>
    size_hint_y: None
    height: "40dp"
    spacing: "25dp"
    text: ""

    MDCheckbox:
        group: "size"
        size_hint: None, None
        size: "30dp", "30dp"
        pos_hint: {"center_y": .5}
        selected_color: 1, 1, 1, 1

    MDLabel:
        text: root.text
        color: 1, 1, 1, .7


<MyBackdropFrontLayer@ScrollView>
    backdrop: None
    backlayer: None

    GridLayout:
        size_hint_y: None
        height: self.minimum_height
        cols: 1
        padding: "5dp"

        ItemBackdropFrontLayer:
            text: "Press item"
            secondary_text: "to Configure DigitalOcean"
            icon: "digital-ocean"
            on_press:
                root.backlayer.current = "screen one"
                root.backdrop.open(-Window.height / 2)

        ItemBackdropFrontLayer:
            text: "Press item"
            secondary_text: "to Configure Freenom"
            icon: "record-circle-outline"
            on_press:
                root.backlayer.current = "screen two"
                root.backdrop.open()
        MDTextField:
                hint_text: "No helper text"
        ItemBackdropFrontLayer:
            text: "Press item"
            secondary_text: "to Start VPN"
            icon: "transfer-down"
            on_press:
                root.backlayer.current = "screen three"
                root.backdrop.open()


<MyBackdropBackLayer@ScreenManager>
    transition: NoTransition()

    Screen:
        name: "screen one"

        ScrollView

            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                cols: 1
                padding: "5dp"

                TextItemBackdropBackLayer:
                    icon: "theater"
                    text: "API key"
                    hint_text: "API key"
                
                CheckBoxOption:
                    text: "Enable automatic tear-down"

                DropDownOption:
                    id: dropdown_item
                    padding: "20dp"
                    color_mode: "custom"
                    #line_color_focus: root.theme_cls.opposite_text_color
                    #dropdown_bg: app.theme_cls.opposite_text_color
                    dropdown_width_mult: 2
                    items: ["1 hour", "2 hours", "4 hours", "8 hours", "24 hours", "7 days"]
                    dropdown_bg: [1, 1, 1, 0.75]
                    on_touch_down: app.debug_print()
                # TextItemBackdropBackLayer:
                #     icon: "desktop-mac"
                #     text: "Computers"
                # ItemBackdropBackLayer:
                #     icon: "camera-plus-outline"
                #     text: "Camera and Camcorders"
                # ItemBackdropBackLayer:
                #     icon: "speaker"
                #     text: "Speakers"
                # ItemBackdropBackLayer:
                #     icon: "cellphone-iphone"
                #     text: "Mobile Phones"
                # ItemBackdropBackLayer:
                #     icon: "movie-outline"
                #     text: "Movies"
                # ItemBackdropBackLayer:
                #     icon: "gamepad-variant-outline"
                #     text: "Games"
                # ItemBackdropBackLayer:
                #     icon: "music-circle-outline"
                #     text: "Music"

    Screen:
        name: "screen two"

        ScrollView

            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                cols: 1
                padding: "15dp"
                spacing: "10dp"

                MDLabel:
                    text: "Types of TVs Home Theater Product"
                    color: 1, 1, 1, 1

                Widget:
                    size_hint_y: None
                    height: "10dp"

                ItemBackdropBackLayerOfSecondScreen:
                    text: "Smart TV"
                ItemBackdropBackLayerOfSecondScreen:
                    text: "4K Ultra HD TVs"
                ItemBackdropBackLayerOfSecondScreen:
                    text: "Curved TVs"
                ItemBackdropBackLayerOfSecondScreen:
                    text: "OLED TVs"
                ItemBackdropBackLayerOfSecondScreen:
                    text: "LED TVs"
                ItemBackdropBackLayerOfSecondScreen:
                    text: "Home Theater Systems"

                MDSeparator:

                Widget:
                    size_hint_y: None
                    height: "15dp"

                MDLabel:
                    text: "Types of TVs Home Theater Product"
                    color: 1, 1, 1, 1

                ItemRoundBackdropBackLayerOfSecondScreen:
                    text: "TVs up to 32\""
                ItemRoundBackdropBackLayerOfSecondScreen:
                    text: "TVs 39\"-50\""
                ItemRoundBackdropBackLayerOfSecondScreen:
                    text: "TVs 55\" or larger"
    Screen:
        name: "screen three"

        ScrollView

            GridLayout:
                size_hint_y: None
                height: self.minimum_height
                cols: 1
                padding: "15dp"
                spacing: "10dp"

                MDLabel:
                    text: "Types of TVs Home Theater Product"
                    color: 1, 1, 1, 1

                Widget:
                    size_hint_y: None
                    height: "10dp"


                MDSeparator:

                Widget:
                    size_hint_y: None
                    height: "15dp"

                MDLabel:
